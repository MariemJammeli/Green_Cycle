class SearchFilterService{initService=()=>{self.searchValue=self.searchFieldDOM.value,self.targetDOM=document.querySelector(".search-filter-values"),self.elementsList=targetDOM.querySelectorAll("li")};searchAndCompile=()=>{if(self.searchValue.trim()==""||self.searchValue===void 0)return this.resetSearch();let keywords=self.searchValue.toLowerCase().split(" "),filtered=[];return keywords.map(keyword=>{if(keyword&&keyword.trim()!=""&&keyword!==void 0)for(let element of self.elementsList)element.innerText.toLowerCase().includes(keyword)&&filtered.push(element)}),filtered};resetSearch=()=>{let original=[];for(let element of self.elementsList)original.push(element);return original};attachEvent=()=>{self.searchFieldDOM.addEventListener("keyup",event=>{self.searchValue=new String(event.target.value),self.targetDOM.innerHTML="",this.searchAndCompile().map(element=>{self.targetDOM.appendChild(element)}),event.stopPropagation()})};waitForFieldThenExecute=(isReload=!1)=>{self.searchFieldDOM=document.querySelector(".search-filter"),this.initService(),this.attachEvent()}}let globalSearchFilterService=new SearchFilterService,observerServiceManager=()=>{new MutationObserver((mutationList,observer)=>{for(let mutation of mutationList)mutation.type=="attributes"&&(setTimeout(()=>{globalSearchFilterService.waitForFieldThenExecute(!0),observerServiceManager()},1500),observer.disconnect())}).observe(document.querySelector(".collection-content"),{attributes:!0})};setTimeout(()=>{document.querySelector(".search-filter")&&(globalSearchFilterService.waitForFieldThenExecute(),observerServiceManager())},1e3);
//# sourceMappingURL=/cdn/shop/t/6/assets/search-filter-service.js.map?v=28532040686979368941677447892
